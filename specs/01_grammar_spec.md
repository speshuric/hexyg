# Описание грамматики Hexator

## Неформальный пример грамматики

```
#option bin_filename=lorem.bin
#option encoding=utf8
#option endian=LITTLE_ENDIAN
#option address_size=u32
#option padding=00 // FF или другое значение или padding=forbidden для запрета пропусков

// следующие настройки нужны скорее для парсинга или переформатирования, из hex в bin они конвертировать не мешают
#option line_length=16 
#option block_length=1 // чтобы строка была "4C 6F 72 65 6D 20 69 70 73 75 6D 20 64 6F 6C 6F"
#option repeat_adress=every_line

// комментарии в C/Java стиле
// пустые строки и пробелы не значат

00000000: 4C 6F 72 65 6D 20 69 70 73 75 6D 20 64 6F 6C 6F [Lorem ipsum dolo]
00000010: 72 20 73 69 74 20 61 6D 65 74 2C 20 63 6F 6E 73 [r sit amet, cons]
00000020: 65 63 74 65 74 75 72 20 61 64 69 70 69 73 63 69 [ectetur adipisci]
00000030: 6E 67 20 65 6C 69 74 2C 20 73 65 64 20 64 6F 20 [ng elit, sed do ]
00000040: 65 69 75 73 6D 6F 64 20 74 65 6D 70 6F 72 20 69 [eiusmod tempor i]
00000050: 6E 63 69 64 69 64 75 6E 74 20 75 74 20 6C 61 62 [ncididunt ut lab]
00000060: 6F 72 65 20 65 74 20 64 6F 6C 6F 72 65 20 6D 61 [ore et dolore ma]
00000070: 67 6E 61 20 61 6C 69 71 75 61 2E                [gna aliqua.]

// в квадратных скобках текстовое представление
// адрес обязательно завершается двоеточием и начинается с начала строки
// адрес начала по умолчанию - 0
// Если padding разрешён, то "дырки" в адресах допустимы

00000100: 00 01 02 03 // возможно и такое представление
          04 05 06 07

00000108: 
08090A0B
0C0D0E0F 
// то же самое что "00000108: 08090A0B0C0D0E0F"

// после "|" могут быть значения
00000200: FF 00 00 00 EE EE 00 00 | +0:u32=255 +03:u32=61166 // по адресам
00000208: 01 00 00 00 02 00 03 00 | u32=1 u16=2 u16=3 // последовательно без адресов
00000210: 01 00 00 00 02 00 03 00 | +00(name_x):u32=1 +03(name_y):u16=2 +03(name_z):u16=3 // с именами
// структуры будут в будущих версиях, сейчас это для демонстрации синтаксиса
#struct data {
    name_x:u32, 
    name_y:u16, 
    name_z:u16, 
}
00000218: 01 00 00 00 02 00 03 00 | +00:data={name_x=1, name_y=2, name_z=3} //json-подобное. 
00000220: 4C 6F 72 65 6D 20 69 70 | +00:utf8="Lorem ipsum dolo"
          73 75 6D 20 64 6F 6C 6F 
// Структуры простые, никаких рекурсий, конечно. Но вложеность возможна.

// представления и значения могут комбинироваться
00000300: 4C 6F 72 65 6D 20 69 70 73 75 6D 20 64 6F 6C 6F [Lorem ipsum dolo] | +00:utf8="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."
00000310: 72 20 73 69 74 20 61 6D 65 74 2C 20 63 6F 6E 73 [r sit amet, cons]
00000320: 65 63 74 65 74 75 72 20 61 64 69 70 69 73 63 69 [ectetur adipisci]
00000330: 6E 67 20 65 6C 69 74 2C 20 73 65 64 20 64 6F 20 [ng elit, sed do ]
00000340: 65 69 75 73 6D 6F 64 20 74 65 6D 70 6F 72 20 69 [eiusmod tempor i]
00000350: 6E 63 69 64 69 64 75 6E 74 20 75 74 20 6C 61 62 [ncididunt ut lab]
00000360: 6F 72 65 20 65 74 20 64 6F 6C 6F 72 65 20 6D 61 [ore et dolore ma]
00000370: 67 6E 61 20 61 6C 69 71 75 61 2E                [gna aliqua.]

```

